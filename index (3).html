<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- SECTION: Meta & Fonts -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>FuelTrack - Daily Calorie & Macro Tracker</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="app-shell">
      <!-- SECTION: Header -->
      <header class="app-header">
        <div class="brand">
          <div class="brand-mark">FT</div>
          <div class="brand-text">
            <h1 class="brand-title">FuelTrack</h1>
            <p class="brand-subtitle">Daily calories & macros at a glance</p>
          </div>
        </div>
        <div class="header-right">
          <div class="day-pill" id="current-date"></div>
        </div>
      </header>

      <!-- SECTION: Goals Overview -->
      <section class="goals-panel" aria-label="Daily goals overview">
        <div class="goal-card">
          <div class="goal-label">
            <span class="goal-name">Calories</span>
            <span class="goal-target" id="calorie-goal-label"></span>
          </div>
          <div class="goal-bar">
            <div
              class="goal-bar-fill is-calories"
              id="calorie-progress"
              aria-hidden="true"
            ></div>
          </div>
          <div class="goal-stats">
            <span id="calorie-total">0</span>
            <span class="goal-unit">kcal</span>
          </div>
        </div>

        <div class="goal-card">
          <div class="goal-label">
            <span class="goal-name">Protein</span>
            <span class="goal-target" id="protein-goal-label"></span>
          </div>
          <div class="goal-bar">
            <div
              class="goal-bar-fill is-protein"
              id="protein-progress"
            ></div>
          </div>
          <div class="goal-stats">
            <span id="protein-total">0</span>
            <span class="goal-unit">g</span>
          </div>
        </div>

        <div class="goal-card">
          <div class="goal-label">
            <span class="goal-name">Carbs</span>
            <span class="goal-target" id="carb-goal-label"></span>
          </div>
          <div class="goal-bar">
            <div class="goal-bar-fill is-carbs" id="carb-progress"></div>
          </div>
          <div class="goal-stats">
            <span id="carb-total">0</span>
            <span class="goal-unit">g</span>
          </div>
        </div>

        <div class="goal-card">
          <div class="goal-label">
            <span class="goal-name">Fats</span>
            <span class="goal-target" id="fat-goal-label"></span>
          </div>
          <div class="goal-bar">
            <div class="goal-bar-fill is-fats" id="fat-progress"></div>
          </div>
          <div class="goal-stats">
            <span id="fat-total">0</span>
            <span class="goal-unit">g</span>
          </div>
        </div>
      </section>

      <main class="app-main">
        <!-- SECTION: Entry Form -->
        <section class="card entry-card" aria-label="Add food or meal">
          <h2 class="section-title">Log a meal</h2>
          <form id="entry-form" class="entry-form">
            <div class="field-group">
               <label for="food-name">Food / meal name</label>
               <input
                 id="food-name"
                 name="food-name"
                 type="text"
                 placeholder="e.g. Oatmeal with berries"
                 list="food-suggestions"
                 autocomplete="off"
                 required
               />
               <datalist id="food-suggestions"></datalist>
            </div>

            <div class="field-grid">
              <div class="field-group">
                <label for="calories">Calories (kcal)</label>
                <input
                  id="calories"
                  name="calories"
                  type="number"
                  min="0"
                  max="5000"
                  step="1"
                  placeholder="250"
                  required
                />
              </div>
              <div class="field-group">
                <label for="weight">Weight (g)</label>
                <input
                  id="weight"
                  name="weight"
                  type="number"
                  min="0"
                  max="2000"
                  step="1"
                  placeholder="150"
                />
              </div>
            </div>

            <div class="field-grid">
              <div class="field-group">
                <label for="protein">Protein (g)</label>
                <input
                  id="protein"
                  name="protein"
                  type="number"
                  min="0"
                  max="200"
                  step="0.1"
                  placeholder="10"
                />
              </div>
            </div>

            <div class="field-grid">
              <div class="field-group">
                <label for="carbs">Carbs (g)</label>
                <input
                  id="carbs"
                  name="carbs"
                  type="number"
                  min="0"
                  max="500"
                  step="0.1"
                  placeholder="30"
                />
              </div>
              <div class="field-group">
                <label for="fats">Fats (g)</label>
                <input
                  id="fats"
                  name="fats"
                  type="number"
                  min="0"
                  max="200"
                  step="0.1"
                  placeholder="8"
                />
              </div>
            </div>

            <button type="submit" class="btn-primary">Add entry</button>
          </form>
        </section>

        <!-- SECTION: Calorie Needs Calculator -->
        <section class="card needs-card" aria-label="Calorie needs calculator">
          <h2 class="section-title">Calorie needs & deficit</h2>
          <form id="needs-form" class="entry-form needs-form">
            <div class="field-grid">
              <div class="field-group">
                <label for="needs-age">Age</label>
                <input id="needs-age" name="age" type="number" min="10" max="100" step="1" placeholder="28" required />
              </div>
              <div class="field-group">
                <label for="needs-sex">Sex</label>
                <select id="needs-sex" name="sex" required>
                  <option value="male">Male</option>
                  <option value="female">Female</option>
                </select>
              </div>
            </div>

            <div class="field-grid">
              <div class="field-group">
                <label for="needs-height">Height (cm)</label>
                <input id="needs-height" name="height" type="number" min="120" max="230" step="1" placeholder="175" required />
              </div>
              <div class="field-group">
                <label for="needs-weight">Weight (kg)</label>
                <input id="needs-weight" name="weight" type="number" min="35" max="250" step="0.1" placeholder="72" required />
              </div>
            </div>

            <div class="field-group">
              <label for="needs-activity">Activity level</label>
              <select id="needs-activity" name="activity" required>
                <option value="1.2">Sedentary (little or no exercise)</option>
                <option value="1.375">Light (1–3 days/week)</option>
                <option value="1.55">Moderate (3–5 days/week)</option>
                <option value="1.725">Very active (6–7 days/week)</option>
                <option value="1.9">Super active (hard job + training)</option>
              </select>
            </div>

            <button type="submit" class="btn-primary">Calculate needs</button>
          </form>

          <div class="needs-results" id="needs-results" aria-live="polite">
            <div class="needs-row">
              <span>Maintenance</span>
              <span id="needs-maintenance">–</span>
            </div>
            <div class="needs-row">
              <span>Mild deficit</span>
              <span id="needs-mild">–</span>
            </div>
            <div class="needs-row">
              <span>Moderate deficit</span>
              <span id="needs-moderate">–</span>
            </div>
            <div class="needs-row">
              <span>Aggressive deficit</span>
              <span id="needs-aggressive">–</span>
            </div>
          </div>
        </section>

        <!-- SECTION: History Summary -->
        <section class="card history-card" aria-label="History summary">
          <h2 class="section-title">History</h2>
          <div class="history-grid">
            <div class="history-block">
              <div class="history-label">Last 7 days</div>
              <div class="history-value" id="weekly-calories">0 kcal</div>
            </div>
            <div class="history-block">
              <div class="history-label">Last 30 days</div>
              <div class="history-value" id="monthly-calories">0 kcal</div>
            </div>
          </div>
        </section>

        <!-- SECTION: Daily Log -->
        <section class="card log-card" aria-label="Today's food log">
          <header class="log-header">
            <h2 class="section-title">Today's log</h2>
            <button id="clear-log" class="btn-ghost" type="button">
              Clear day
            </button>
          </header>

          <div id="empty-state" class="empty-state">
            Nothing logged yet. Start by adding your first meal.
          </div>

          <ul id="entry-list" class="entry-list" aria-live="polite"></ul>

          <footer class="totals" aria-label="Daily totals">
            <div class="totals-row is-heading">
              <span>Total</span>
              <span>Calories</span>
              <span>Weight</span>
              <span>Protein</span>
              <span>Carbs</span>
              <span>Fats</span>
            </div>
            <div class="totals-row">
              <span class="totals-label">Today</span>
              <span id="total-calories">0 kcal</span>
              <span id="total-weight">0 g</span>
              <span id="total-protein">0 g</span>
              <span id="total-carbs">0 g</span>
              <span id="total-fats">0 g</span>
            </div>
          </footer>
        </section>
      </main>

      <!-- SECTION: Footer -->
      <footer class="app-footer">
        <div class="footer-inner">
          <div class="footer-goals">Fixed goals: <span id="footer-goals"></span></div>
          <div class="footer-profiles">
            <h2 class="section-title">Profiles</h2>
            <div class="profile-footer-row">
              <select id="profile-select" class="profile-select"></select>
              <button type="button" class="btn-primary" id="add-profile-footer">+ Profile</button>
              <button type="button" class="btn-ghost" id="delete-profile-btn">Delete</button>
            </div>
          </div>
        </div>
      </footer>

      <!-- Security Setup Modal -->
      <div class="modal-backdrop" id="security-modal" aria-hidden="false">
        <div class="modal" role="dialog" aria-modal="true" aria-labelledby="security-modal-title">
          <h2 id="security-modal-title" class="section-title">Setup Security</h2>
          <p>Create your first profile and set a PIN to secure your data.</p>
          <form id="security-form" class="entry-form">
            <div class="field-group">
              <label for="security-name">Profile Name</label>
              <input id="security-name" name="security-name" type="text" placeholder="Your name" required />
            </div>
            <div class="field-group">
              <label for="security-pin">4-Digit PIN</label>
              <input id="security-pin" name="security-pin" type="password" pattern="[0-9]{4}" maxlength="4" placeholder="1234" required />
            </div>
            <button type="submit" class="btn-primary">Create Profile</button>
          </form>
        </div>
      </div>

      <!-- PIN Verification Modal -->
      <div class="modal-backdrop" id="pin-modal" aria-hidden="true">
        <div class="modal" role="dialog" aria-modal="true" aria-labelledby="pin-modal-title">
          <h2 id="pin-modal-title" class="section-title">Enter PIN</h2>
          <p>Enter your PIN to switch profiles.</p>
          <form id="pin-form" class="entry-form">
            <div class="field-group">
              <label for="pin-input">PIN</label>
              <input id="pin-input" name="pin-input" type="password" pattern="[0-9]{4}" maxlength="4" placeholder="1234" required />
            </div>
            <div class="modal-actions">
              <button type="button" class="btn-ghost" id="pin-cancel">Cancel</button>
              <button type="submit" class="btn-primary">Verify</button>
            </div>
          </form>
        </div>
      </div>

      <!-- Profile modal -->
      <div class="modal-backdrop" id="profile-modal" aria-hidden="true">
        <div class="modal" role="dialog" aria-modal="true" aria-labelledby="profile-modal-title">
          <h2 id="profile-modal-title" class="section-title">Create profile</h2>
          <form id="profile-form" class="entry-form">
            <div class="field-group">
              <label for="profile-name">Name</label>
              <input id="profile-name" name="profile-name" type="text" placeholder="e.g. Alex" required />
            </div>
            <div class="field-group">
              <label for="profile-pin">4-Digit PIN</label>
              <input id="profile-pin" name="profile-pin" type="password" pattern="[0-9]{4}" maxlength="4" placeholder="1234" required />
            </div>
            <div class="field-grid">
              <div class="field-group">
                <label for="profile-gender">Gender</label>
                <select id="profile-gender" name="profile-gender">
                  <option value="unspecified">Unspecified</option>
                  <option value="male">Male</option>
                  <option value="female">Female</option>
                </select>
              </div>
              <div class="field-group">
                <label for="profile-deficit">Calorie mode</label>
                <select id="profile-deficit" name="profile-deficit">
                  <option value="none">Maintenance</option>
                  <option value="mild">Mild deficit</option>
                  <option value="aggressive">Aggressive deficit</option>
                </select>
              </div>
            </div>
            <div class="modal-actions">
              <button type="button" class="btn-ghost" id="profile-cancel">Cancel</button>
              <button type="submit" class="btn-primary">Save profile</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
